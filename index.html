<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PONG 2D | ULTIMATE EDITION 2026</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- HUD SUPERIOR (Siempre visible en men√∫s) -->
    <div id="top-bar" style="display:none">
        <div class="user-info">üë§ <span id="display-username">Jugador</span></div>
        <div class="coin-info">üí∞ <span id="display-coins">0</span> PC</div>
        <div class="nav-btns">
            <button onclick="showUI('shop')">üõí Tienda</button>
            <button onclick="showUI('inventory')">üéí Colecci√≥n</button>
            <button onclick="showUI('profile')">‚öôÔ∏è Perfil</button>
        </div>
    </div>

    <!-- PORTADA DIN√ÅMICA -->
    <div id="title-screen" class="ui-overlay">
        <h1 class="logo">PONG <span class="accent">2D</span></h1>
        <div class="hero-box">
            <button class="btn-primary" onclick="enterGame()">EMPEZAR JUEGO</button>
            <p class="hint">EDICI√ìN GLOBAL 2026</p>
        </div>
    </div>

    <!-- CANVAS DEL JUEGO -->
    <canvas id="pong"></canvas>
    <div id="mod-display" class="mod-indicator"></div>

    <!-- MEN√ö PRINCIPAL -->
    <div id="main-menu" class="ui-overlay" style="display:none">
        <div class="menu-card window">
            <h2>MODOS DE COMBATE</h2>
            <div class="grid-modes">
                <button onclick="startGame(1, false, 0, false)">1 VS 1 Local</button>
                <button onclick="startGame(2, false, 0, false)">2 VS 2 Local</button>
                <button onclick="startGame(1, true, 0.15, false)">VS CPU PRO</button>
                <button onclick="showUI('caos-select')" class="btn-caos">MODO CAOS üî•</button>
            </div>
        </div>
    </div>

    <!-- SUBMEN√ö CAOS -->
    <div id="caos-select-menu" class="ui-overlay" style="display:none">
        <div class="menu-card window caos-border">
            <h2 class="caos-text">ELIGE TU DESTINO</h2>
            <div class="grid-modes">
                <button onclick="startGame(1, false, 0, true)">1 VS 1 CAOS</button>
                <button onclick="startGame(2, false, 0, true)">2 VS 2 CAOS</button>
                <button onclick="showUI('main')">VOLVER</button>
            </div>
        </div>
    </div>

    <!-- INVENTARIO -->
    <div id="inventory-menu" class="ui-overlay" style="display:none">
        <div class="window">
            <h2>MI COLECCI√ìN</h2>
            <div class="tabs">
                <button onclick="populateInventory('paddle')">Palas</button>
                <button onclick="populateInventory('ball')">Bolas</button>
                <button onclick="populateInventory('bg')">Fondos</button>
            </div>
            <div id="inventory-list" class="item-grid">
                <!-- Se llena con JS -->
            </div>
            <button class="btn-close" onclick="showUI('main')">VOLVER AL MEN√ö</button>
        </div>
    </div>

    <!-- TIENDA DE CAJAS -->
    <div id="shop-menu" class="ui-overlay" style="display:none">
        <div class="window">
            <h2>SUMINISTROS 2026</h2>
            <div class="shop-grid">
                <div class="loot-card bronze" onclick="openBox('common')">
                    <p>üì¶ Bronce</p>
                    <b>100 PC</b>
                </div>
                <div class="loot-card epic" onclick="openBox('epic')">
                    <p>üíé √âpica</p>
                    <b>500 PC</b>
                </div>
                <div class="loot-card legendary" onclick="openBox('god')">
                    <p>üî• Dios</p>
                    <b>1500 PC</b>
                </div>
            </div>
            <button class="btn-close" onclick="showUI('main')">SALIR</button>
        </div>
    </div>

    <!-- PERFIL Y GUARDADO -->
    <div id="profile-menu" class="ui-overlay" style="display:none">
        <div class="window">
            <h2>DATOS DEL PILOTO</h2>
            <div class="profile-content">
                <input type="text" id="username-input" placeholder="Nuevo apodo...">
                <button class="btn-primary" onclick="saveUsername()">CAMBIAR NOMBRE</button>
                <hr>
                <p>C√ìDIGO DE RECUPERACI√ìN:</p>
                <textarea id="save-code-output" readonly onclick="this.select()"></textarea>
                <p style="font-size: 0.8em; color: gray;">Copia este c√≥digo para no perder tus monedas.</p>
            </div>
            <button class="btn-close" onclick="showUI('main')">VOLVER</button>
        </div>
    </div>

    <!-- PANTALLA DE DERROTA/VICTORIA -->
    <div id="game-over" class="ui-overlay" style="display:none">
        <div class="window">
            <h1 id="winner-text">FIN DE LA PARTIDA</h1>
            <p>Has recibido 100 PC por participar.</p>
            <button class="btn-primary" onclick="location.reload()">VOLVER A EMPEZAR</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
